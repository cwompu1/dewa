<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <title>DEWA Shop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --tg-theme-bg-color: #000000;
            --tg-theme-text-color: #ffffff;
            --tg-theme-hint-color: #999999;
            --tg-theme-link-color: #2481cc;
            --tg-theme-button-color: #2481cc;
            --tg-theme-button-text-color: #ffffff;
            --accent-color: #0088cc;
            --card-bg-color: #1a1a1a;
            --primary-button-color: #0095ff;
            --secondary-color: #ff1493;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--tg-theme-bg-color, #000000);
            color: var(--tg-theme-text-color, #ffffff);
            padding-bottom: 100px;
            /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ –≤—ã—Å–æ—Ç–µ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω */
            min-height: 100vh;
            max-height: 100vh;
            overflow-y: auto;
            /* –û—Ç–∫–ª—é—á–∞–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ */
            touch-action: manipulation;
            -webkit-overflow-scrolling: touch;
            /* –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* –†–∞–∑—Ä–µ—à–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Ç–æ–ª—å–∫–æ –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞ */
        input, textarea {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        /* –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .feature-card,
        .action-button,
        .calc-button,
        .points-card,
        .telegram-channel,
        .user-info,
        .section-header,
        .lookbook-item,
        .user-tag,
        .see-all {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –ø—Ä–∏ —Ç–∞–ø–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        #app {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            height: 100%;
        }
        
        .container {
            padding: 0 16px;
            width: 100%;
            box-sizing: border-box;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 12px;
            transition: background-color 0.2s;
        }
        
        .user-info:active {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 12px;
            object-fit: cover;
        }
        
        .user-name {
            font-size: 18px;
            font-weight: 500;
        }
        
        .user-tag {
            display: inline-block;
            padding: 2px 8px;
            background-color: #333;
            border-radius: 10px;
            font-size: 12px;
            margin-left: 8px;
        }
        
        .telegram-channel {
            display: flex;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 8px 12px;
            border-radius: 20px;
        }
        
        .telegram-icon {
            width: 24px;
            height: 24px;
            background-color: #0088cc;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
        }
        
        .search-bar {
            margin: 16px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 16px 12px 44px;
            background-color: #222;
            border: none;
            border-radius: 24px;
            color: #fff;
            font-size: 16px;
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        .feature-cards {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding: 16px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .feature-cards::-webkit-scrollbar {
            display: none;
        }
        
        .feature-card {
            flex: 0 0 120px;
            height: 120px;
            background-color: var(--card-bg-color);
            border-radius: 20px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card.promo {
            background-color: #FFD700;
            color: #000;
        }
        
        .feature-card.info {
            background-color: #9932CC;
        }
        
        .feature-card.unicorn {
            background: linear-gradient(135deg, #ff4dc4, #a64dff);
        }
        
        .feature-title {
            font-weight: 600;
            font-size: 14px;
            margin: 0;
        }
        
        .feature-card img {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
        }
        
        .points-card {
            background-color: var(--card-bg-color);
            border-radius: 16px;
            padding: 16px;
            margin: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .points-label {
            font-size: 20px;
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .points-value {
            font-size: 36px;
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .action-buttons {
            display: flex;
            gap: 16px;
            margin: 16px;
        }
        
        .action-button {
            flex: 1;
            background-color: var(--card-bg-color);
            border-radius: 16px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 150px;
        }
        
        .action-button.primary {
            background-color: var(--primary-button-color);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .action-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .action-subtitle {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .action-icon {
            width: 50px;
            height: 50px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: auto;
            align-self: center;
        }
        
        .invite-friends {
            background-color: var(--card-bg-color);
            border-radius: 16px;
            padding: 16px;
            margin: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .invite-text {
            flex: 1;
        }
        
        .invite-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .invite-description {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .invite-bonus {
            color: var(--secondary-color);
            font-weight: bold;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
            margin-top: 24px;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: bold;
            margin: 0;
        }
        
        .see-all {
            color: var(--accent-color);
            font-weight: 500;
        }
        
        .lookbook {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding: 16px;
            margin-bottom: 16px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .lookbook::-webkit-scrollbar {
            display: none;
        }
        
        .lookbook-item {
            flex: 0 0 140px;
            width: 140px;
            height: 220px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }
        
        .lookbook-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .calc-button {
            background-color: var(--card-bg-color);
            border-radius: 16px;
            padding: 16px;
            margin: 16px;
            display: flex;
            align-items: center;
        }
        
        .calc-icon {
            width: 40px;
            height: 40px;
            margin-right: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .calc-text {
            flex: 1;
        }
        
        .calc-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .calc-description {
            font-size: 14px;
            opacity: 0.7;
        }
        
        .arrow-icon {
            width: 24px;
            height: 24px;
            color: #777;
        }
        
        .search-input::placeholder {
            color: #777;
        }
        
        .app-wrapper {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100%;
            overflow: hidden;
            position: relative;
        }
        
        .content-container {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 16px;
            position: relative;
            height: calc(100vh - 76px); /* –í—ã—á–∏—Ç–∞–µ–º –≤—ã—Å–æ—Ç—É header */
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-page {
            padding: 16px;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .back-button {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--card-bg-color);
            border-radius: 50%;
            margin-right: 16px;
            cursor: pointer;
        }
        
        .profile-title {
            font-size: 24px;
            font-weight: bold;
        }
        
        .profile-section {
            background-color: var(--card-bg-color);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .profile-section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--secondary-color);
        }
        
        .profile-field {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .profile-field:last-child {
            border-bottom: none;
        }
        
        .field-label {
            color: var(--tg-theme-hint-color);
            font-size: 14px;
        }
        
        .field-value {
            font-weight: 500;
        }
        
        .edit-button {
            padding: 6px 12px;
            background-color: var(--primary-button-color);
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
        }
        
        @media (max-width: 380px) {
            .feature-card {
                flex: 0 0 110px;
                height: 110px;
                padding: 12px;
            }
            
            .action-button {
                min-height: 120px;
            }
            
            .action-title {
                font-size: 18px;
            }
            
            .action-subtitle {
                font-size: 12px;
            }
        }
        
        .profile-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background-color: var(--primary-button-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #007acc;
        }
        
        .btn-admin {
            background-color: #2c3e50;
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-admin:hover {
            background-color: #34495e;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏ Telegram (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
        document.documentElement.style.setProperty('--tg-theme-bg-color', '#000000');
        document.documentElement.style.setProperty('--tg-theme-text-color', '#ffffff');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Telegram
        function checkAuth() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ initData
            if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                const user = tg.initDataUnsafe.user;
                return {
                    authorized: true,
                    user: {
                        id: user.id,
                        username: user.username,
                        firstName: user.first_name,
                        lastName: user.last_name,
                        photoUrl: user.photo_url || 'https://via.placeholder.com/40'
                    }
                };
            }
            
            return { 
                authorized: true, // –î–ª—è –¥–µ–º–æ –≤—Å–µ–≥–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                user: {
                    id: 123456789,
                    username: 'demo_user',
                    firstName: 'Rustam',
                    lastName: '',
                    photoUrl: 'https://via.placeholder.com/40'
                }
            };
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        function loadApp() {
            const appElement = document.getElementById('app');
            const authData = checkAuth();
            
            if (authData.authorized) {
                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–∞–≥–∞–∑–∏–Ω
                renderUnicornStyleApp(appElement, authData.user);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
                const userInfo = appElement.querySelector('.user-info');
                if (userInfo) {
                    userInfo.addEventListener('click', () => {
                        renderProfilePage(appElement, authData.user);
                    });
                }
            } else {
                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                renderAuthScreen(appElement);
            }
        }
        
        // –†–µ–Ω–¥–µ—Ä–∏–º —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function renderAuthScreen(container) {
            container.innerHTML = `
                <div class="auth-required" style="text-align: center; padding: 40px 20px;">
                    <h2>–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
                    <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–∞–≥–∞–∑–∏–Ω—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram.</p>
                </div>
            `;
        }
        
        // –†–µ–Ω–¥–µ—Ä–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Å—Ç–∏–ª–µ UNICORN
        function renderUnicornStyleApp(container, user) {
            container.innerHTML = `
                <div class="app-wrapper">
                    <header class="header">
                        <div class="user-info">
                            <img src="${user.photoUrl}" alt="${user.firstName}" class="user-avatar">
                            <div>
                                <span class="user-name">${user.firstName} ${user.lastName || ''}</span>
                                <span class="user-tag">–ù–æ–≤–∏—á–æ–∫</span>
                            </div>
                        </div>
                        <div class="telegram-channel">
                            <div class="telegram-icon">
                                <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.9683 1.68816C15.9557 1.62835 15.9276 1.57342 15.8868 1.5289C15.846 1.48437 15.7939 1.45191 15.7363 1.43545C15.5436 1.40027 15.3456 1.4137 15.1601 1.47449C15.1601 1.47449 1.0516 6.18849 0.26525 6.66499C0.11525 6.74549 0.0376251 6.82383 0.0126251 6.90216C-0.0833749 7.12383 0.122625 7.22816 0.122625 7.22816L3.8176 8.36166C3.8856 8.37733 3.9566 8.37733 4.0246 8.36166C4.56043 8.04 12.4323 3.01383 12.8516 2.87983C12.9331 2.85383 12.9998 2.87983 12.9816 2.941C12.8614 3.42266 5.9176 9.62899 5.8836 9.66616C5.86785 9.68047 5.85679 9.69929 5.85179 9.72016L5.60319 13.3202C5.60319 13.3202 5.47119 14.2 6.41119 13.3202C7.08426 12.6911 7.72692 12.0257 8.3376 11.3252C9.67919 12.2686 11.1389 13.3202 11.7166 13.7866C11.8096 13.8573 11.9176 13.9068 12.0328 13.9317C12.148 13.9567 12.2678 13.9565 12.383 13.9312C12.4981 13.9058 12.606 13.856 12.6986 13.7849C12.7912 13.7139 12.8661 13.6232 12.9176 13.5202C12.9176 13.5202 15.8326 3.16633 15.9716 1.81183C15.9883 1.68944 15.9908 1.56415 15.9788 1.44083C15.9753 1.39063 15.9662 1.34121 15.9516 1.29383L15.9683 1.68816Z" fill="white"/>
                                </svg>
                            </div>
                            <span>@poizonshop</span>
                        </div>
                    </header>
                    
                    <div class="content-container">
                        <div class="search-bar">
                            <div class="search-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="#777"/>
                                </svg>
                            </div>
                            <input type="text" class="search-input" placeholder="–ù–∞–π—Ç–∏ –∫—Ä–æ—Å—Å–æ–≤–∫–∏">
                        </div>
                        
                        <div class="feature-cards">
                            <div class="feature-card promo">
                                <p class="feature-title">–ó–æ–≤–∏ –¥—Ä—É–∑–µ–π! +500‚ÇΩ</p>
                                <img src="https://cdn3d.iconscout.com/3d/premium/thumb/friends-5544636-4629492.png" alt="Friends">
                            </div>
                            <div class="feature-card info">
                                <p class="feature-title">–ó–Ω–∞–∫–æ–º—å—Ç–µ—Å—å, Poizon!</p>
                                <img src="https://cdn3d.iconscout.com/3d/premium/thumb/gift-box-2872337-2389811.png" alt="Poizon">
                            </div>
                            <div class="feature-card unicorn">
                                <p class="feature-title">–ß—Ç–æ —É–º–µ–µ—Ç Unicorn?</p>
                                <img src="https://cdn-icons-png.flaticon.com/512/2826/2826175.png" alt="Unicorn">
                            </div>
                        </div>
                        
                        <div class="points-card">
                            <div class="points-label">–ë–∞–ª–ª—ã</div>
                            <div class="points-value">0</div>
                        </div>
                        
                        <div class="action-buttons">
                            <div class="action-button">
                                <div>
                                    <div class="action-title">–ó–æ–≤–∏ –¥—Ä—É–∑–µ–π</div>
                                    <div class="action-subtitle">–î–∞—Ä–∏–º –ø–æ <span style="color: var(--secondary-color);">500‚ÇΩ</span> - —Ç–µ–±–µ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º—É –¥—Ä—É–≥—É</div>
                                </div>
                                <div class="action-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M8 7L13 12L8 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="action-button primary">
                                <div>
                                    <div class="action-title">–í—ã–±—Ä–∞—Ç—å –∏ –∑–∞–∫–∞–∑–∞—Ç—å</div>
                                </div>
                                <div class="action-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="calc-button">
                            <div class="calc-icon">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 4H20V20H4V4Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M4 9H20M9 20V9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <div class="calc-text">
                                <div class="calc-title">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ –∏–∑ Poizon</div>
                                <div class="calc-description">–£–∑–Ω–∞–π—Ç–µ —Ç–æ—á–Ω—É—é —Ü–µ–Ω—É —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π</div>
                            </div>
                            <div class="arrow-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 6L15 12L9 18" stroke="#777" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                        
                        <div class="section-header">
                            <h2 class="section-title">–õ—É–∫–±—É–∫ 2025</h2>
                            <span class="see-all">–í—Å–µ ‚Üí</span>
                        </div>
                        <div class="lookbook">
                            <div class="lookbook-item">
                                <img src="https://images.unsplash.com/photo-1600185365926-3a2ce3cdb9eb?q=80&w=1000&auto=format&fit=crop" alt="Look 1">
                            </div>
                            <div class="lookbook-item">
                                <img src="https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?q=80&w=1000&auto=format&fit=crop" alt="Look 2">
                            </div>
                            <div class="lookbook-item">
                                <img src="https://images.unsplash.com/photo-1504593811423-6dd665756598?q=80&w=1000&auto=format&fit=crop" alt="Look 3">
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners(container);
        }
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners(container) {
            // –û—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            const searchInput = container.querySelector('.search-input');
            if (searchInput) {
                searchInput.addEventListener('focus', () => {
                    tg.MainButton.show();
                    tg.MainButton.setText('–ò—Å–∫–∞—Ç—å');
                });
                
                searchInput.addEventListener('blur', () => {
                    tg.MainButton.hide();
                });
                
                searchInput.addEventListener('input', (e) => {
                    if (e.target.value) {
                        tg.MainButton.setText('–ò—Å–∫–∞—Ç—å: ' + e.target.value);
                    } else {
                        tg.MainButton.setText('–ò—Å–∫–∞—Ç—å');
                    }
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–∞–∑–∞
            const orderButton = container.querySelector('.action-button.primary');
            if (orderButton) {
                orderButton.addEventListener('click', () => {
                    tg.showPopup({
                        title: '–í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤',
                        message: '–ü–µ—Ä–µ—Ö–æ–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤',
                        buttons: [{ type: 'ok' }]
                    });
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
            const allButtons = container.querySelectorAll('.feature-card, .action-button, .calc-button, .lookbook-item');
            allButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const type = e.currentTarget.className;
                    tg.sendData(JSON.stringify({
                        action: 'button_click',
                        buttonType: type
                    }));
                });
            });
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', loadApp);

        // –†–µ–Ω–¥–µ—Ä–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è
        function renderProfilePage(container, user) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
            const adminIds = [307233318];
            const adminUsernames = ['gafurrovvv'];
            const isAdmin = adminIds.includes(user.id) || 
                           (user.username && adminUsernames.includes(user.username.toLowerCase()));
            
            container.innerHTML = `
                <div class="app-wrapper">
                    <div class="profile-page">
                        <div class="profile-header">
                            <div class="back-button" onclick="goBack()">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <h1 class="profile-title">–ü—Ä–æ—Ñ–∏–ª—å</h1>
                        </div>
                        
                        <div class="profile-section">
                            <div class="profile-header">
                                <img src="${user.photoUrl}" alt="Profile Photo" class="profile-photo">
                                <h2>${user.firstName} ${user.lastName || ''}</h2>
                                <p>@${user.username || '–Ω–µ —É–∫–∞–∑–∞–Ω'}</p>
                            </div>
                            <div class="profile-actions">
                                <button class="btn btn-primary" onclick="showOrders()">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
                                <button class="btn btn-primary" onclick="showSettings()">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                                ${isAdmin ? `
                                    <button class="btn btn-admin" onclick="openAdminPanel()">
                                        üë®‚Äçüíº –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                                    </button>
                                ` : ''}
                            </div>
                        </div>
                        
                        <div class="profile-section">
                            <div class="profile-section-title">–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                            <div class="profile-field">
                                <span class="field-label">–ò–º—è</span>
                                <span class="field-value">${user.firstName} ${user.lastName || ''}</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">Telegram ID</span>
                                <span class="field-value">@${user.username || '–Ω–µ —É–∫–∞–∑–∞–Ω'}</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">–¢–µ–ª–µ—Ñ–æ–Ω</span>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span class="field-value">${user.phone || '–ù–µ —É–∫–∞–∑–∞–Ω'}</span>
                                    <div class="edit-button">–ò–∑–º–µ–Ω–∏—Ç—å</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="profile-section">
                            <div class="profile-section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤</div>
                            <div class="profile-field">
                                <span class="field-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</span>
                                <span class="field-value">0</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">–ù–∞ —Å—É–º–º—É</span>
                                <span class="field-value">0 ‚ÇΩ</span>
                            </div>
                        </div>
                        
                        <div class="profile-section">
                            <div class="profile-section-title">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</div>
                            <div class="profile-field">
                                <span class="field-label">–ê–¥—Ä–µ—Å</span>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span class="field-value">–ù–µ —É–∫–∞–∑–∞–Ω</span>
                                    <div class="edit-button">–î–æ–±–∞–≤–∏—Ç—å</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            setupProfileEventListeners(container, user);
        }
        
        function setupProfileEventListeners(container, user) {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
            const backButton = container.querySelector('.back-button');
            if (backButton) {
                backButton.addEventListener('click', () => {
                    goBack();
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            const adminButton = container.querySelector('.btn-admin');
            if (adminButton) {
                adminButton.addEventListener('click', () => {
                    openAdminPanel();
                });
            }
        }

        function checkAdminAccess() {
            const adminIds = [307233318]; // –í–∞—à Telegram ID
            const adminUsernames = ['gafurrovvv']; // –í–∞—à username
            
            const currentUser = Telegram.WebApp.initDataUnsafe.user;
            if (currentUser) {
                const isAdmin = adminIds.includes(currentUser.id) || 
                               (currentUser.username && adminUsernames.includes(currentUser.username.toLowerCase()));
                
                const adminButton = document.getElementById('adminButton');
                if (adminButton) {
                    adminButton.style.display = isAdmin ? 'block' : 'none';
                }
            }
        }

        function openAdminPanel() {
            window.open('https://cwompu1.github.io/dewa/', '_blank');
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∑–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ—Ñ–∏–ª—è
        document.addEventListener('DOMContentLoaded', function() {
            // ... existing code ...
            checkAdminAccess();
        });

        // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
        function showOrders() {
            tg.showPopup({
                title: '–ú–æ–∏ –∑–∞–∫–∞–∑—ã',
                message: '–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –ø—É—Å—Ç–∞',
                buttons: [{ type: 'ok' }]
            });
        }

        function showSettings() {
            tg.showPopup({
                title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
                message: '–†–∞–∑–¥–µ–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ',
                buttons: [{ type: 'ok' }]
            });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
        function goBack() {
            const appElement = document.getElementById('app');
            const authData = checkAuth();
            renderUnicornStyleApp(appElement, authData.user);
        }
    </script>
</body>
</html> 